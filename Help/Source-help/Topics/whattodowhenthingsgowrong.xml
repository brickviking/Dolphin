<?xml version="1.0" encoding="UTF-8"?>
<?xml-stylesheet type="text/xsl" href="../helpproject.xsl" ?>
<topic template="Default" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="../helpproject.xsd">
  <title translate="true">What to do when things go wrong</title>
  <keywords>
    <keyword translate="true">What to do when things go wrong</keyword>
  </keywords>
  <body>
    <header>
      <para styleclass="Heading1"><text styleclass="Heading1" translate="true">What to do when things go wrong</text></para>
    </header>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">Image stripping is not an exact science. It is possible that the stripping process may remove too much from the image so that the resultant application does not execute correctly. This is why we have provided different stripping options that can be configured by the </text><text styleclass="Program Feature" translate="true">Lagoon Deployment Wizard</text><text styleclass="Normal" translate="true">. Unfortunately, since all the development tools are automatically stripped from a deployed image, tracking down the source of a problem can prove difficult. For example, a #</text><text styleclass="Class Name" translate="true">doesNotUnderstand</text><text styleclass="Normal" translate="true"> error at runtime simply brings up a message box with no opportunity to invoke the </text><text styleclass="Program Feature" translate="true">Debugger</text><text styleclass="Normal" translate="true">.</text></para>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">If you experience problems with your application that were not present in the development environment then you should experiment with one or more of the following procedures.</text></para>
    <list id="2" type="ol" listtype="decimal" formatstring="&#37;&#48;&#58;&#115;&#46;" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="font-family:Arial; font-size:9pt; color:#000000;">
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Re-deploy your application with all of the </text><text styleclass="Class Name" translate="true">ImageStripper</text><text styleclass="Normal" translate="true"> check box options turned off. If your application then works correctly try to isolate which of the options makes the difference by repeated attempts at re-deployment.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">Turn on the </text><text styleclass="Normal" style="font-style:italic;" translate="true">Write log </text><text styleclass="Normal" translate="true">file</text><text styleclass="Normal" translate="true"> option and re-deploy the application. This generates an XML log file manifest of all the classes and methods that are removed from the system together with a list of the classes remaining at the end of the stripping process. The log is sent to a file with the same name as that of the executable being generated but with an .XML suffix. You can use the </text><link displaytype="text" defaultstyle="true" type="topiclink" href="Environment_Browser" styleclass="Program Feature" translate="true">Executable Browser</link><text styleclass="Normal" translate="true"> to examine the contents on this file and this may allow you to isolate the problem.</text></li>
      <li styleclass="Normal"><text styleclass="Normal" translate="true">It is possible to further control how the </text><text styleclass="Class Name" translate="true">ImageStripper</text><text styleclass="Normal" translate="true"> selects classes and methods to be removed:</text></li>
    </list>
    <list id="3" type="ul" listtype="bullet" formatstring="&#183;" format-charset="SYMBOL_CHARSET" levelreset="true" legalstyle="false" startfrom="1" styleclass="Normal" style="margin-left:24px; font-family:Symbol; font-size:9pt; color:#000000;">
      <li styleclass="Normal" style="margin-left:24px;"><text styleclass="Normal" translate="true">All methods that belong to the category </text><text styleclass="Program Feature" translate="true">must not strip</text><text styleclass="Normal" translate="true"> are forcibly preserved in the image. If you find that your application is failing because a particular method has been removed then try adding this to the </text><text styleclass="Normal" translate="true">must not strip </text><text styleclass="Normal" translate="true">category. This set of categories to maintain is determined by the </text><text styleclass="Class Name" translate="true">ImageStripper&gt;&gt;requiredMethodCategories</text><text styleclass="Normal" translate="true">&#32;</text><text styleclass="Normal" translate="true">method.</text></li>
      <li styleclass="Normal" style="margin-left:24px;"><text styleclass="Normal" translate="true">Methods that belong to the categories </text><text styleclass="Program Feature" translate="true">must strip</text><text styleclass="Normal" translate="true"> and </text><text styleclass="Program Feature" translate="true">examples</text><text styleclass="Normal" translate="true">&#32;</text><text styleclass="Normal" translate="true">are forcibly removed from the image. If you find, perhaps by browsing the executable manifest, that your application is too large and contains methods that could readily be removed then you can add them to the </text><text styleclass="Program Feature" translate="true">must strip</text><text styleclass="Normal" translate="true"> category. The method </text><text styleclass="Class Name" translate="true">ImageStripper&gt;&gt;notRequiredMethodCategories</text><text styleclass="Normal" translate="true">&#32;</text><text styleclass="Normal" translate="true">determines the set of method categories that are forcibly stripped.</text></li>
      <li styleclass="Normal" style="margin-left:24px;"><text styleclass="Normal" translate="true">A number of classes are always retained. These are determined in the</text><text styleclass="Normal" translate="true">&#32;</text><text styleclass="Class Name" translate="true">ImageStripper&gt;&gt;requiredClasses</text><text styleclass="Normal" translate="true">&#32;</text><text styleclass="Normal" translate="true">method. Adding classes to this set may be able to alleviate the consequences of occasions when the stripper is &quot;over aggressive&quot; in its stripping policy.</text></li>
      <li styleclass="Normal" style="margin-left:24px;"><text styleclass="Normal" translate="true">You may specify that a number of classes are always removed. This set is determined by the </text><text styleclass="Class Name" translate="true">ImageStripper&gt;&gt;notRequiredClasses</text><text styleclass="Normal" translate="true"> method. Adding classes to this set may allow you to further reduce the size of deployed image.</text></li>
    </list>
    <para styleclass="Normal"><text styleclass="Normal" translate="true">If you wish to alter these default strategies then you may choose to create a new subclass of </text><text styleclass="Class Name" translate="true">ImageStripper</text><text styleclass="Normal" translate="true"> and override the appropriate methods. In this case, the </text><text styleclass="Program Feature" translate="true">Deployment Wizard</text><text styleclass="Normal" translate="true"> gives you the opportunity to install the class of image stripper you wish to use.</text></para>
  </body>
</topic>
